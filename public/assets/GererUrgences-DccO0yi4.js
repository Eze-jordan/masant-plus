import{r as i,A as x,c,a as u,l as r,b as e,g as _,t as l,i as y,v as j,F as C,D as k,f as v,h as z,G as B}from"./app-CfV6an-M.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as N}from"./createLucideIcon-C1lUWojF.js";/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=N("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),E={__name:"GererUrgences",setup(U,{expose:t}){t();const d=i(""),s=i(null),m=i(!1),b=i(!1),o=i(!1),a=i(null),p=i(null),h=i(0),f=i([{id:1,patient:{nom:"DIALLO",prenom:"Fatou",telephone:"0700000000"},docteur:{nom:"IGAMBA",prenom:"Paul",telephone:"0788888888"},date:"2024-06-10 14:00",type:"video"}]),M=x(()=>f.value.length),A=x(()=>d.value?f.value.filter(n=>n.patient.nom.toLowerCase().includes(d.value.toLowerCase())||n.patient.prenom.toLowerCase().includes(d.value.toLowerCase())||n.docteur.nom.toLowerCase().includes(d.value.toLowerCase())||n.docteur.prenom.toLowerCase().includes(d.value.toLowerCase())||n.date.toLowerCase().includes(d.value.toLowerCase())||n.type.toLowerCase().includes(d.value.toLowerCase())):f.value),g=i([{id:1,nom:"IGAMBA",prenom:"Paul"},{id:2,nom:"KONE",prenom:"Awa"}]);function D(n){s.value=s.value===n?null:n}function L(n){a.value={...n},m.value=!0,s.value=null}function P(n){a.value={...n},o.value=!0,s.value=null,g.value.length>0?p.value=g.value[0]:p.value=null}function S(n){confirm("Supprimer cette urgence ?")&&(f.value=f.value.filter(T=>T.id!==n.id)),s.value=null}function G(){b.value=!1}function V(){p.value&&a.value&&(f.value=f.value.filter(n=>n.id!==a.value.id),h.value++,o.value=!1,p.value=null)}const w={search:d,openMenu:s,showDetails:m,showEdit:b,showAffecter:o,selectedUrgence:a,medecinSelectionne:p,urgencesAffectees:h,urgences:f,totalUrgences:M,filteredUrgences:A,medecinsDisponibles:g,toggleMenu:D,voirPlus:L,affecterMedecinPanel:P,supprimer:S,validerModification:G,affecterMedecin:V,ref:i,computed:x,get Calendar(){return O}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}},F={class:"flex justify-between items-center mb-6"},q={class:"mt-2 flex items-center gap-4"},H={class:"bg-white rounded shadow p-4 flex items-center gap-2"},K={class:"font-bold text-2xl"},R={class:"bg-green-100 rounded shadow p-4 flex items-center gap-2"},J={class:"font-bold text-2xl text-green-700"},Q={class:"flex items-center gap-4"},W={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},X={class:"absolute top-4 right-1 z-20"},Y=["onClick"],Z={key:0,class:"absolute right-0 mt-2 w-36 bg-white border border-gray-200 rounded shadow z-30"},$=["onClick"],ee=["onClick"],te=["onClick"],se={class:"flex justify-between items-center mb-2"},oe={class:"font-bold text-red-600 flex items-center gap-2"},le={class:"text-xs bg-red-100 text-red-700 px-3 py-1 rounded-full font-semibold uppercase tracking-wide"},ne={class:"flex justify-between gap-4 mb-2"},ie={class:"font-semibold"},re={class:"text-xs text-gray-400"},de={class:"font-semibold"},ae={class:"text-xs text-gray-400"},ce={class:"mt-2 text-sm text-gray-700"},ue={key:0,class:"fixed inset-0 z-50 flex"},fe={class:"w-full max-w-md h-full bg-white shadow-lg p-8 relative animate-slide-in-right overflow-y-auto"},ve={key:0},pe={class:"mb-2"},me={class:"mb-2"},be={class:"mb-2"},ge={class:"mb-2"},xe={class:"mb-2"},he={class:"mb-2"},we={class:"px-2 py-1 rounded-full bg-red-100 text-red-700 text-xs"},_e={key:1,class:"fixed inset-0 z-50 flex"},ye={class:"w-full max-w-md h-full bg-white shadow-lg p-8 relative animate-slide-in-right overflow-y-auto"},Ce={class:"mb-4"},ke=["value"];function Ue(U,t,d,s,m,b){return u(),c("div",null,[r(" En-tête "),e("div",F,[e("div",null,[t[7]||(t[7]=e("h2",{class:"text-xl font-bold"},"Paramètre des urgence",-1)),e("div",q,[e("div",H,[e("span",K,l(s.totalUrgences),1),_(s.Calendar,{class:"w-6 h-6 text-blue-500"})]),e("div",R,[e("span",J,l(s.urgencesAffectees),1),t[6]||(t[6]=e("span",{class:"text-green-700 font-semibold"},"Affectations",-1))])])]),e("div",Q,[y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.search=o),type:"text",placeholder:"Rechercher une urgence",class:"px-4 py-2 border rounded-md"},null,512),[[j,s.search]])])]),r(" Grille des urgences "),e("div",W,[(u(!0),c(C,null,k(s.filteredUrgences,o=>(u(),c("div",{key:o.id,class:"relative bg-white border-l-8 border-red-500 rounded-lg shadow-lg p-6 flex flex-col transition hover:shadow-2xl"},[r(" Menu d'actions "),e("div",X,[e("button",{onClick:a=>s.toggleMenu(o.id),class:"text-gray-500 hover:text-red-500 text-xl font-bold px-2 py-1 rounded-full focus:outline-none"}," ⋮ ",8,Y),s.openMenu===o.id?(u(),c("div",Z,[e("ul",null,[e("li",{class:"px-4 py-2 hover:bg-blue-100 cursor-pointer",onClick:a=>s.voirPlus(o)},"Voir plus",8,$),e("li",{class:"px-4 py-2 hover:bg-blue-100 cursor-pointer",onClick:a=>s.affecterMedecinPanel(o)},"Affecter un médecin",8,ee),e("li",{class:"px-4 py-2 hover:bg-red-100 text-red-600 cursor-pointer",onClick:a=>s.supprimer(o)},"Supprimer",8,te)])])):r("v-if",!0)]),r(" Infos principales "),e("div",se,[e("div",oe,[_(s.Calendar,{class:"w-5 h-5"}),t[8]||(t[8]=v(" Urgence "))]),e("span",le,l(o.type==="video"?"Vidéo":"Téléphone"),1)]),e("div",ne,[e("div",null,[t[9]||(t[9]=e("div",{class:"text-xs text-gray-500"},"Patient",-1)),e("div",ie,l(o.patient.nom)+" "+l(o.patient.prenom),1),e("div",re,l(o.patient.telephone),1)]),e("div",null,[t[10]||(t[10]=e("div",{class:"text-xs text-gray-500"},"Docteur",-1)),e("div",de,l(o.docteur.nom)+" "+l(o.docteur.prenom),1),e("div",ae,l(o.docteur.telephone),1)])]),e("div",ce,[e("div",null,[t[11]||(t[11]=e("span",{class:"font-semibold"},"Date :",-1)),v(" "+l(o.date),1)])])]))),128))]),r(" Panneau latéral Détails "),s.showDetails?(u(),c("div",ue,[e("div",{class:"flex-1 bg-black bg-opacity-40",onClick:t[1]||(t[1]=o=>s.showDetails=!1)}),e("div",fe,[e("button",{class:"absolute top-2 right-2 text-gray-500",onClick:t[2]||(t[2]=o=>s.showDetails=!1)},"×"),t[19]||(t[19]=e("h3",{class:"text-lg font-bold mb-4 text-red-600"},"Détails de l'urgence",-1)),s.selectedUrgence?(u(),c("div",ve,[e("div",pe,[t[12]||(t[12]=e("b",null,"Patient :",-1)),v(" "+l(s.selectedUrgence.patient.nom)+" "+l(s.selectedUrgence.patient.prenom),1)]),e("div",me,[t[13]||(t[13]=e("b",null,"Téléphone patient :",-1)),v(" "+l(s.selectedUrgence.patient.telephone),1)]),e("div",be,[t[14]||(t[14]=e("b",null,"Docteur :",-1)),v(" "+l(s.selectedUrgence.docteur.nom)+" "+l(s.selectedUrgence.docteur.prenom),1)]),e("div",ge,[t[15]||(t[15]=e("b",null,"Téléphone docteur :",-1)),v(" "+l(s.selectedUrgence.docteur.telephone),1)]),e("div",xe,[t[16]||(t[16]=e("b",null,"Date :",-1)),v(" "+l(s.selectedUrgence.date),1)]),e("div",he,[t[17]||(t[17]=e("b",null,"Type :",-1)),t[18]||(t[18]=v()),e("span",we,l(s.selectedUrgence.type),1)])])):r("v-if",!0)])])):r("v-if",!0),r(" Panneau latéral Affecter un médecin "),s.showAffecter?(u(),c("div",_e,[e("div",{class:"flex-1 bg-black bg-opacity-40",onClick:t[3]||(t[3]=o=>s.showAffecter=!1)}),e("div",ye,[e("button",{class:"absolute top-2 right-2 text-gray-500",onClick:t[4]||(t[4]=o=>s.showAffecter=!1)},"×"),t[23]||(t[23]=e("h3",{class:"text-lg font-bold mb-4 text-red-600"},"Affecter un médecin",-1)),e("form",{onSubmit:z(s.affecterMedecin,["prevent"])},[e("div",Ce,[t[21]||(t[21]=e("label",{class:"block mb-1 font-semibold"},"Médecin à affecter",-1)),y(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>s.medecinSelectionne=o),class:"w-full border rounded px-3 py-2",required:""},[t[20]||(t[20]=e("option",{value:null,disabled:""},"Sélectionner un médecin",-1)),(u(!0),c(C,null,k(s.medecinsDisponibles,o=>(u(),c("option",{key:o.id,value:o},l(o.nom)+" "+l(o.prenom),9,ke))),128))],512),[[B,s.medecinSelectionne]])]),t[22]||(t[22]=e("button",{type:"submit",class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 font-bold"},"Affecter",-1))],32)])])):r("v-if",!0)])}const Me=I(E,[["render",Ue],["__file","C:/Users/HP/masanteplus-back/inertia/pages/dashboard/GererUrgences.vue"]]),Pe=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"}));export{O as C,Me as G,Pe as a};
