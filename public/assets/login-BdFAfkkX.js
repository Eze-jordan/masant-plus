import{d as k,r,o as _,Q as M,S as C,c as l,a as n,b as o,e as S,f as i,g as m,w as x,h as j,i as c,v as V,j as z,k as L,l as v,t as P}from"./app-x1sq7EG_.js";import B from"./ServerError-B-xubL8F.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E=k({__name:"login",setup(g,{expose:e}){e();const d=r(""),s=r(""),u=r(!1),p=r(!1),t=r(!1),f=r(!1),w=()=>{};_(()=>{});const b={email:d,password:s,rememberMe:u,showPassword:p,loading:t,error:f,checkIfLoggedIn:w,handleLogin:async()=>{t.value=!0;const y={email:d.value,password:s.value,remember_me:u.value};try{const a=await fetch("/logins",{method:"POST",headers:{"Content-Type":"application/json","x-app-key":"boulinguiboulingui"},body:JSON.stringify(y)}),h=await a.json();a.ok?(localStorage.setItem("authToken",h.token),M.visit("/dashboard",{preserveScroll:!1})):alert(f.value)}catch(a){console.error("Erreur de connexion:",a),alert("Erreur de connexion. Veuillez réessayer.")}finally{t.value=!1}},get Link(){return C},ServerError:B};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}}),T={class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},O={class:"sm:mx-auto sm:w-full sm:max-w-md"},U={class:"mt-2 text-center text-sm text-gray-600"},A={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},D={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},H={class:"mt-1"},I={class:"mt-1 relative"},q=["type"],Q={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},J={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},F={class:"flex items-center justify-between"},G={class:"flex items-center"},K={class:"text-sm"},R=["disabled"],W={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},X={class:"mt-6"},Y={key:0,class:"mt-6 grid grid-cols-2 gap-3"};function Z(g,e,d,s,u,p){return n(),l("div",T,[o("div",O,[e[6]||(e[6]=S('<div class="flex justify-center"><div class="w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg></div></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900"> Connectez-vous à votre compte </h2>',2)),o("p",U,[e[5]||(e[5]=i(" Ou ")),m(s.Link,{href:"#",class:"font-medium text-blue-600 hover:text-blue-500"},{default:x(()=>e[4]||(e[4]=[i(" créez un nouveau compte ")])),_:1,__:[4]})])]),o("div",A,[o("div",D,[o("form",{class:"space-y-6",onSubmit:j(s.handleLogin,["prevent"])},[o("div",null,[e[7]||(e[7]=o("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Adresse email ",-1)),o("div",H,[c(o("input",{id:"email",name:"email",type:"email",autocomplete:"email",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>s.email=t),class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"votre@email.com"},null,512),[[V,s.email]])])]),o("div",null,[e[10]||(e[10]=o("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Mot de passe ",-1)),o("div",I,[c(o("input",{id:"password",name:"password",type:s.showPassword?"text":"password",autocomplete:"current-password",required:"","onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t),class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm pr-10",placeholder:"••••••••"},null,8,q),[[z,s.password]]),o("button",{type:"button",class:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:e[2]||(e[2]=t=>s.showPassword=!s.showPassword)},[s.showPassword?(n(),l("svg",J,e[9]||(e[9]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)]))):(n(),l("svg",Q,e[8]||(e[8]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])])]),o("div",F,[o("div",G,[c(o("input",{id:"remember-me",name:"remember-me",type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=t=>s.rememberMe=t),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[L,s.rememberMe]]),e[11]||(e[11]=o("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900"}," Se souvenir de moi ",-1))]),o("div",K,[m(s.Link,{href:"/auth/rest-password",class:"font-medium text-blue-600 hover:text-blue-500"},{default:x(()=>e[12]||(e[12]=[i(" Mot de passe oublié ? ")])),_:1,__:[12]})])]),o("div",null,[o("button",{type:"submit",disabled:s.loading,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[s.loading?(n(),l("span",W,e[13]||(e[13]=[o("svg",{class:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):v("v-if",!0),i(" "+P(s.loading?"Connexion...":"Se connecter"),1)],8,R)])],32),o("div",X,[e[14]||(e[14]=o("div",{class:"relative"},null,-1)),s.error?(n(),l("div",Y,[m(s.ServerError,{message:s.error},null,8,["message"])])):v("v-if",!0)])])])])}const re=N(E,[["render",Z],["__file","C:/Users/HP/masanteplus-back/inertia/pages/auth/login.vue"]]);export{re as default};
