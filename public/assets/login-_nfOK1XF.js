import{d as k,r,o as _,a as M,b as v,c as n,e as o,f as C,g as p,h as g,w as j,i as S,j as f,v as V,k as z,l as L,m as w,t as B,n as a}from"./app-BiRaeLV8.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P=k({__name:"login",setup(y,{expose:e}){e();const u=r(""),s=r(""),m=r(!1),b=r(!1),l=r(!1),c=r(!1),t=()=>{};_(()=>{});const x={email:u,password:s,rememberMe:m,showPassword:b,loading:l,error:c,checkIfLoggedIn:t,handleLogin:async()=>{l.value=!0;const h={email:u.value,password:s.value,remember_me:m.value};try{const i=await fetch("/logins",{method:"POST",headers:{"Content-Type":"application/json","x-app-key":"boulinguiboulingui"},body:JSON.stringify(h)}),d=await i.json();i.ok?(console.log("Réponse réussie:",d),localStorage.setItem("authToken",d.token),M.visit("/dashboard",{preserveScroll:!1})):(console.error("Erreur de connexion:",d),alert(d.error||"Erreur de connexion. Veuillez réessayer."))}catch(i){console.error("Erreur de requête:",i),alert("Erreur de connexion. Veuillez réessayer.")}finally{l.value=!1}}};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}}),N={class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},T={class:"sm:mx-auto sm:w-full sm:max-w-md"},D={class:"mt-2 text-center text-sm text-gray-600"},O={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},q={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},A={class:"mt-1"},I={class:"mt-1 relative"},U=["type"],H={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},J={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},R={class:"flex items-center justify-between"},F={class:"flex items-center"},G=["disabled"],K={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},Q={class:"mt-6"},W={key:0,class:"mt-6 grid grid-cols-2 gap-3"};function X(y,e,u,s,m,b){const l=v("Link"),c=v("ServerError");return a(),n("div",N,[o("div",T,[e[6]||(e[6]=C('<div class="flex justify-center"><div class="w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg></div></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900"> Connectez-vous à votre compte </h2>',2)),o("p",D,[e[5]||(e[5]=p(" Ou ",-1)),g(l,{href:"#",class:"font-medium text-blue-600 hover:text-blue-500"},{default:j(()=>[...e[4]||(e[4]=[p(" créez un nouveau compte ",-1)])]),_:1})])]),o("div",O,[o("div",q,[o("form",{class:"space-y-6",onSubmit:S(s.handleLogin,["prevent"])},[o("div",null,[e[7]||(e[7]=o("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Adresse email ",-1)),o("div",A,[f(o("input",{id:"email",name:"email",type:"email",autocomplete:"email",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>s.email=t),class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"votre@email.com"},null,512),[[V,s.email]])])]),o("div",null,[e[10]||(e[10]=o("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Mot de passe ",-1)),o("div",I,[f(o("input",{id:"password",name:"password",type:s.showPassword?"text":"password",autocomplete:"current-password",required:"","onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t),class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm pr-10",placeholder:"••••••••"},null,8,U),[[z,s.password]]),o("button",{type:"button",class:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:e[2]||(e[2]=t=>s.showPassword=!s.showPassword)},[s.showPassword?(a(),n("svg",J,[...e[9]||(e[9]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(a(),n("svg",H,[...e[8]||(e[8]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])])]),o("div",R,[o("div",F,[f(o("input",{id:"remember-me",name:"remember-me",type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=t=>s.rememberMe=t),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[L,s.rememberMe]]),e[11]||(e[11]=o("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900"}," Se souvenir de moi ",-1))]),e[12]||(e[12]=o("div",{class:"text-sm"},[o("a",{href:"#",class:"font-medium text-blue-600 hover:text-blue-500"}," Mot de passe oublié ? ")],-1))]),o("div",null,[o("button",{type:"submit",disabled:s.loading,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[s.loading?(a(),n("span",K,[...e[13]||(e[13]=[o("svg",{class:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):w("v-if",!0),p(" "+B(s.loading?"Connexion...":"Se connecter"),1)],8,G)])],32),o("div",Q,[e[14]||(e[14]=o("div",{class:"relative"},null,-1)),s.error?(a(),n("div",W,[g(c,{message:s.error},null,8,["message"])])):w("v-if",!0)])])])])}const ee=E(P,[["render",X],["__file","D:/sambatechpro/masanteplus-back/inertia/pages/auth/login.vue"]]);export{ee as default};
