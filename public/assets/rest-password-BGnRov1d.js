import{c as n,a,b as o,h as g,l as i,i as u,j as w,t as p,r as d,x as b}from"./app-x1sq7EG_.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k={__name:"rest-password",setup(l,{expose:s}){s();const m=d(!1),e=d(!1),c=d(!1),r=b({current_password:"",password:"",password_confirmation:""}),f={showCurrentPassword:m,showPassword:e,showPasswordConfirm:c,form:r,handleSubmit:()=>{if(r.clearErrors(),r.password!==r.password_confirmation){r.setError("password_confirmation","Les nouveaux mots de passe ne correspondent pas.");return}r.put(`/users/${r.user_id||"cf9cb3a9-49a6-4cb6-89f9-b4d4f497ba17"}/change-password`,{preserveScroll:!0,onSuccess:()=>{r.reset(),r.clearErrors()}})},ref:d,get useForm(){return b}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}},v={class:"min-h-screen flex items-center justify-center bg-gray-100 p-4"},x={class:"w-full max-w-md bg-white p-8 rounded shadow-md"},y={class:"relative"},_=["type"],C={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},M={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},P={class:"relative"},j=["type"],B={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},S={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},L={class:"relative"},z=["type"],V={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},E={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},N={key:0,class:"text-red-600 text-sm mb-2"},U={key:1,class:"text-green-600 text-sm mb-2"},q=["disabled"];function A(l,s,m,e,c,r){return a(),n("div",v,[o("div",x,[s[15]||(s[15]=o("h2",{class:"text-2xl font-bold text-center text-gray-800 mb-6"},"Changer le mot de passe",-1)),o("form",{onSubmit:g(e.handleSubmit,["prevent"]),class:"space-y-6"},[i(" Mot de passe actuel "),o("div",y,[s[8]||(s[8]=o("label",{for:"current_password",class:"block text-gray-700 font-medium mb-1"},"Mot de passe actuel",-1)),u(o("input",{type:e.showCurrentPassword?"text":"password",id:"current_password","onUpdate:modelValue":s[0]||(s[0]=t=>e.form.current_password=t),required:"",class:"w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-300 pr-10",autocomplete:"current-password"},null,8,_),[[w,e.form.current_password]]),o("button",{type:"button",onClick:s[1]||(s[1]=t=>e.showCurrentPassword=!e.showCurrentPassword),class:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500",tabindex:"-1"},[e.showCurrentPassword?(a(),n("svg",M,s[7]||(s[7]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)]))):(a(),n("svg",C,s[6]||(s[6]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),i(" Nouveau mot de passe "),o("div",P,[s[11]||(s[11]=o("label",{for:"password",class:"block text-gray-700 font-medium mb-1"},"Nouveau mot de passe",-1)),u(o("input",{type:e.showPassword?"text":"password",id:"password","onUpdate:modelValue":s[2]||(s[2]=t=>e.form.password=t),required:"",class:"w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-300 pr-10",autocomplete:"new-password"},null,8,j),[[w,e.form.password]]),o("button",{type:"button",onClick:s[3]||(s[3]=t=>e.showPassword=!e.showPassword),class:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500",tabindex:"-1"},[e.showPassword?(a(),n("svg",S,s[10]||(s[10]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)]))):(a(),n("svg",B,s[9]||(s[9]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),i(" Confirmation mot de passe "),o("div",L,[s[14]||(s[14]=o("label",{for:"password_confirmation",class:"block text-gray-700 font-medium mb-1"},"Confirmer le nouveau mot de passe",-1)),u(o("input",{type:e.showPasswordConfirm?"text":"password",id:"password_confirmation","onUpdate:modelValue":s[4]||(s[4]=t=>e.form.password_confirmation=t),required:"",class:"w-full px-4 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-300 pr-10",autocomplete:"new-password"},null,8,z),[[w,e.form.password_confirmation]]),o("button",{type:"button",onClick:s[5]||(s[5]=t=>e.showPasswordConfirm=!e.showPasswordConfirm),class:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500",tabindex:"-1"},[e.showPasswordConfirm?(a(),n("svg",E,s[13]||(s[13]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)]))):(a(),n("svg",V,s[12]||(s[12]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),l.errorMessage?(a(),n("div",N,p(l.errorMessage),1)):i("v-if",!0),l.successMessage?(a(),n("div",U,p(l.successMessage),1)):i("v-if",!0),o("button",{type:"submit",disabled:l.loading,class:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded transition disabled:opacity-50 disabled:cursor-not-allowed"},p(l.loading?"Chargement...":"Changer le mot de passe"),9,q)],32)])])}const H=h(k,[["render",A],["__file","C:/Users/HP/masanteplus-back/inertia/pages/auth/rest-password.vue"]]);export{H as default};
