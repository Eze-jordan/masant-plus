import{r as c,A as f,c as u,a as p,l as r,b as e,g as w,t as a,i as C,v as k,F as L,D as S,f as m}from"./app-x1sq7EG_.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as A}from"./stethoscope-BEdK2gIW.js";import"./createLucideIcon-VhxeWsbk.js";const P={__name:"ListeDemande",props:{user:Object,users:Array,demandes:Array},setup(x,{expose:t}){t();const d=c(""),s=x,n=c(s.demandes),v=f(()=>n.value.length),l=f(()=>d.value?n.value.filter(o=>o.nom.toLowerCase().includes(d.value.toLowerCase())||o.prenom.toLowerCase().includes(d.value.toLowerCase())||o.email.toLowerCase().includes(d.value.toLowerCase())||o.specialite.toLowerCase().includes(d.value.toLowerCase())||o.matricule.toLowerCase().includes(d.value.toLowerCase())):n.value),i=c(!1),h=c(null);function D(o){alert("Demande acceptée pour "+o.nom),n.value=n.value.filter(b=>b.id!==o.id),i.value=!1}function y(o){alert("Demande refusée pour "+o.nom),n.value=n.value.filter(b=>b.id!==o.id),i.value=!1}function g(o){h.value=o,i.value=!0}const _={search:d,props:s,demandes:n,totalDemandes:v,filteredDemandes:l,showDetails:i,selectedDemande:h,accepterDemande:D,refuserDemande:y,voirDetails:g,ref:c,computed:f,get Stethoscope(){return A}};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}},T={class:"flex justify-between items-center mb-6"},V={class:"mt-2 flex items-center gap-4"},j={class:"bg-white rounded shadow p-4 flex items-center gap-2"},B={class:"font-bold text-2xl"},E={class:"flex items-center gap-4"},M={class:"bg-white rounded shadow p-4"},F={class:"w-full text-left"},O={class:"py-2 px-2 flex items-center gap-2"},R={class:"font-bold"},U={class:"py-2 px-2"},z={class:"py-2 px-2"},H={class:"py-2 px-2"},I={class:"py-2 px-2"},q={class:"py-2 px-2"},G={class:"py-2 px-2 flex gap-2"},J=["onClick"],K=["onClick"],Q={key:0,class:"fixed inset-0 z-50 flex"},W={class:"w-full max-w-md h-full bg-white shadow-lg p-8 relative animate-slide-in-right overflow-y-auto"},X={key:0},Y={class:"mb-4 flex flex-col items-center"},Z={class:"font-bold text-xl"},$={class:"mb-2"},ee={class:"mb-2"},te={class:"mb-2"},se={class:"mb-2"},le={class:"flex gap-4 mt-6"};function oe(x,t,d,s,n,v){return p(),u("div",null,[r(" En-tête "),e("div",T,[e("div",null,[t[5]||(t[5]=e("h2",{class:"text-xl font-bold"},"Paramètre des médecins",-1)),e("div",V,[e("div",j,[e("span",B,a(s.totalDemandes),1),w(s.Stethoscope,{class:"w-6 h-6 text-blue-500"})])])]),e("div",E,[C(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s.search=l),type:"text",placeholder:"Rechercher un Docteur par Matricule, nom, etc.",class:"px-4 py-2 border rounded-md"},null,512),[[k,s.search]]),t[6]||(t[6]=e("button",{class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 font-bold"}," + Ajouter un Docteur ",-1))])]),r(" Tableau des demandes "),e("div",M,[t[9]||(t[9]=e("h3",{class:"font-bold mb-4"},"Liste des demandes de compte",-1)),e("table",F,[t[8]||(t[8]=e("thead",null,[e("tr",{class:"border-b"},[e("th",{class:"py-2 px-2"},[e("input",{type:"checkbox"})]),e("th",{class:"py-2 px-2"},"Nom"),e("th",{class:"py-2 px-2"},"Prenom"),e("th",{class:"py-2 px-2"},"Telephone"),e("th",{class:"py-2 px-2"},"Email"),e("th",{class:"py-2 px-2"},"Spécialité"),e("th",{class:"py-2 px-2"},"Matricule"),e("th",{class:"py-2 px-2"})])],-1)),e("tbody",null,[(p(!0),u(L,null,S(s.filteredDemandes,l=>(p(),u("tr",{key:l.id,class:"border-b hover:bg-gray-100"},[t[7]||(t[7]=e("td",{class:"py-2 px-2"},[e("input",{type:"checkbox"})],-1)),e("td",O,[e("span",R,"Dr. "+a(l.nom),1)]),e("td",U,a(l.lastName),1),e("td",z,a(l.telephone),1),e("td",H,a(l.email),1),e("td",I,a(l.specialite),1),e("td",q,a(l.matricule),1),e("td",G,[e("button",{class:"text-blue-600 text-xl font-bold",onClick:i=>s.voirDetails(l)},"+",8,J),e("button",{class:"text-red-600 text-xl font-bold",onClick:i=>s.refuserDemande(l)},"−",8,K)])]))),128))])])]),r(" Panneau latéral de détails de la demande "),s.showDetails?(p(),u("div",Q,[e("div",{class:"flex-1 bg-black bg-opacity-40",onClick:t[1]||(t[1]=l=>s.showDetails=!1)}),e("div",W,[e("button",{class:"absolute top-2 right-2 text-gray-500",onClick:t[2]||(t[2]=l=>s.showDetails=!1)},"×"),t[14]||(t[14]=e("h3",{class:"text-lg font-bold mb-4"},"Détails de la demande",-1)),s.selectedDemande?(p(),u("div",X,[e("div",Y,[e("span",Z,"Dr. "+a(s.selectedDemande.firstName)+" "+a(s.selectedDemande.lastName),1)]),e("div",$,[t[10]||(t[10]=e("b",null,"Telephone :",-1)),m(" "+a(s.selectedDemande.phone),1)]),e("div",ee,[t[11]||(t[11]=e("b",null,"Email :",-1)),m(" "+a(s.selectedDemande.email),1)]),e("div",te,[t[12]||(t[12]=e("b",null,"Spécialité :",-1)),m(" "+a(s.selectedDemande.specialite),1)]),e("div",se,[t[13]||(t[13]=e("b",null,"Matricule :",-1)),m(" "+a(s.selectedDemande.matricule),1)]),r(" Boutons d'action "),e("div",le,[e("button",{class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 font-bold flex-1",onClick:t[3]||(t[3]=l=>s.accepterDemande(s.selectedDemande))},"Approuver"),e("button",{class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 font-bold flex-1",onClick:t[4]||(t[4]=l=>s.refuserDemande(s.selectedDemande))},"Refuser")])])):r("v-if",!0)])])):r("v-if",!0)])}const re=N(P,[["render",oe],["__scopeId","data-v-84dc542b"],["__file","C:/Users/HP/masanteplus-back/inertia/pages/dashboard/ListeDemande.vue"]]);export{re as default};
